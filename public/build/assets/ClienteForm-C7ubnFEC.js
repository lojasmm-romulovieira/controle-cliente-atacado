import{r as N,W as aa,j as a}from"./app-5lAZS7Xu.js";import{_ as ea,c as J,b as K,v as sa,d as W,g as oa,e as ra,u as la,S as ia,f as ta,L as i,T as d,h as m,i as I,B as U}from"./Select-7OxZMzOW.js";import{EM_PROSPECCAO as da,SIM as $,NAO as q,SIM_NAO as w,routeNames as Q}from"./Utils-aaFgtiZ_.js";import{m as F,a as L,b as G,c as na}from"./mask-D0m4EWLl.js";import{C as V}from"./Card-Dy03AIzM.js";import"./index-CgPiV3eG.js";import"./iconBase-BvCdSsRl.js";var ma=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],H=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=String(e).toLowerCase(),r=String(n.getOptionValue(t)).toLowerCase(),v=String(n.getOptionLabel(t)).toLowerCase();return r===o||v===o},D={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,o){return!(!e||t.some(function(r){return H(e,r,o)})||n.some(function(r){return H(e,r,o)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};function ua(l){var e=l.allowCreateWhileLoading,t=e===void 0?!1:e,n=l.createOptionPosition,o=n===void 0?"last":n,r=l.formatCreateLabel,v=r===void 0?D.formatCreateLabel:r,f=l.isValidNewOption,x=f===void 0?D.isValidNewOption:f,C=l.getNewOptionData,s=C===void 0?D.getNewOptionData:C,j=l.onCreateOption,_=l.options,c=_===void 0?[]:_,O=l.onChange,u=ea(l,ma),T=u.getOptionValue,E=T===void 0?oa:T,M=u.getOptionLabel,k=M===void 0?ra:M,p=u.inputValue,A=u.isLoading,B=u.isMulti,y=u.value,z=u.name,h=N.useMemo(function(){return x(p,J(y),c,{getOptionValue:E,getOptionLabel:k})?s(p,v(p)):void 0},[v,s,k,E,p,x,c,y]),X=N.useMemo(function(){return(t||!A)&&h?o==="first"?[h].concat(K(c)):[].concat(K(c),[h]):c},[t,o,A,h,c]),Y=N.useCallback(function(g,S){if(S.action!=="select-option")return O(g,S);var R=Array.isArray(g)?g:[g];if(R[R.length-1]===h){if(j)j(p);else{var P=s(p,p),Z={action:"create-option",name:z,option:P};O(sa(B,[].concat(K(J(y)),[P]),P),Z)}return}O(g,S)},[s,p,B,z,h,j,O,y]);return W(W({},u),{},{options:X,onChange:Y})}var pa=N.forwardRef(function(l,e){var t=la(l),n=ua(t);return N.createElement(ia,ta({ref:e},n))}),va=pa;const ca=l=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l),b=l=>l!=null;function Ca({filtersOptions:l,cliente:e}){const t=l.perfisOptions.map(s=>s.value.toString()),n=l.ramosOptions.map(s=>s.value.toString()),{data:o,setData:r,post:v,put:f,errors:x}=aa({cnpj:e!=null&&e.cnpj?F(e.cnpj):"",razaosocial:(e==null?void 0:e.razaosocial)??"",ramos:e!=null&&e.ramos?e==null?void 0:e.ramos.map(s=>s.idramo.toString()):n,idclassificacao:(e==null?void 0:e.idclassificacao)??[da],nome:(e==null?void 0:e.nome)??"",datanascimento:(e==null?void 0:e.datanascimento)??"",idcidade:(e==null?void 0:e.idcidade)??"",telefone:e!=null&&e.telefone?L(e.telefone):"",telefone2:e!=null&&e.telefone2?L(e.telefone2):"",celular:e!=null&&e.celular?G(e.celular):"",email:(e==null?void 0:e.email)??"",email2:(e==null?void 0:e.email2)??"",observacoes:(e==null?void 0:e.observacoes)??"",cnpjagrupador:e!=null&&e.cnpjagrupador?e.cnpjagrupador.map(s=>F(s.cnpjagrupador)):[],numeroloja:(e==null?void 0:e.numeroloja)??"",numerovendedor:(e==null?void 0:e.numerovendedor)??"",arealoja:(e==null?void 0:e.arealoja)??"",streetview:(e==null?void 0:e.streetview)??"",limitecredito:e!=null&&e.limitecredito?ca(e.limitecredito):"",enviaremail:b(e==null?void 0:e.enviaremail)?[!!e.enviaremail]:$,possuidividapendente:b(e==null?void 0:e.possuidividapendente)?[!!e.possuidividapendente]:q,possuicompra:b(e==null?void 0:e.possuicompra)?[!!e.possuicompra]:$,ativo:b(e==null?void 0:e.ativo)?[!!e.ativo]:$,perfis:e!=null&&e.perfis?e==null?void 0:e.perfis.map(s=>s.idperfil.toString()):t,possuiblu:b(e==null?void 0:e.possuiblu)?[!!e.possuiblu]:q}),C=s=>{s.preventDefault(),e?f(route(Q.clienteupdate,e.idcliente)):v(route(Q.clientestore))};return a.jsxs("form",{onSubmit:C,className:"space-y-4",children:[a.jsxs(V,{children:[a.jsx("h5",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"Dados Pessoais"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"cnpj",value:"CNPJ"})}),a.jsx(d,{id:"cnpj",type:"text",placeholder:"00.000.000/0000-00",required:!0,onChange:s=>r("cnpj",F(s.target.value)),value:o.cnpj,helperText:x.cnpj&&a.jsx("span",{className:"text-red-600",children:x.cnpj})})]}),a.jsxs("div",{className:"col-span-1 md:col-span-1 lg:col-span-3",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"razaosocial",value:"Razão Social"})}),a.jsx(d,{id:"razaosocial",type:"text",placeholder:"Nome da Empresa",onChange:s=>r("razaosocial",s.target.value),value:o.razaosocial,required:!0})]}),a.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-4",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"cnpjagrupador",value:"CNPJ Agrupador"})}),a.jsx(va,{id:"cnpjagrupador",placeholder:"Digite o CNPJ",isClearable:!0,onInputChange:s=>F(s),onChange:s=>{r("cnpjagrupador",s.map(j=>j.value))},value:o.cnpjagrupador.map(s=>({value:s,label:s})),isMulti:!0,formatCreateLabel:s=>`Adicionar CNPJ: ${s}`})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"nome",value:"Comprador"})}),a.jsx(d,{id:"nome",type:"text",placeholder:"Nome do Comprador",onChange:s=>r("nome",s.target.value),value:o.nome})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"datanascimento",value:"Data Nascimento"})}),a.jsx(d,{id:"datanascimento",type:"date",onChange:s=>r("datanascimento",s.target.value),value:o.datanascimento})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"limitecredito",value:"Limite Crédito"})}),a.jsx(d,{id:"limitecredito",type:"text",placeholder:"R$ 0,00",onChange:s=>r("limitecredito",na(s.target.value)),value:o.limitecredito})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"idclassificacao",value:"Nota"})}),a.jsx(m,{rawOptions:l.classificacoesOptions,labelKey:"label",valueKey:"value",value:o.idclassificacao,onChange:s=>r("idclassificacao",s.target.value)})]}),a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"perfis",value:"Perfil de Compra"})}),a.jsx(m,{rawOptions:l.perfisOptions,labelKey:"label",valueKey:"value",value:o.perfis,onChange:s=>r("perfis",s.target.value),isMulti:!0,hideSelecionarTodos:!1})]}),a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"ramos",value:"Ramos"})}),a.jsx(m,{rawOptions:l.ramosOptions,labelKey:"label",valueKey:"value",value:o.ramos,onChange:s=>r("ramos",s.target.value),isMulti:!0})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"possuiblu",value:"Tem BLU?"})}),a.jsx(m,{rawOptions:w,labelKey:"label",valueKey:"value",value:o.possuiblu,onChange:s=>r("possuiblu",s.target.value)})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"possuidividapendente",value:"Tem Dívida?"})}),a.jsx(m,{rawOptions:w,labelKey:"label",valueKey:"value",value:o.possuidividapendente,onChange:s=>r("possuidividapendente",s.target.value)})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"possuicompra",value:"Já Comprou?"})}),a.jsx(m,{rawOptions:w,labelKey:"label",valueKey:"value",value:o.possuicompra,onChange:s=>r("possuicompra",s.target.value)})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"ativo",value:"Situação Usuário"})}),a.jsx(m,{rawOptions:l.situacoesUsuariosOptions,labelKey:"label",valueKey:"value",value:o.ativo,onChange:s=>r("ativo",s.target.value)})]}),a.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-4",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"observacoes",value:"Observações"})}),a.jsx(I,{id:"observacoes",type:"text",placeholder:"Observações",rows:6,onChange:s=>r("observacoes",s.target.value),value:o.observacoes})]})]})]}),a.jsxs(V,{children:[a.jsx("h5",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"Contato"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"telefone",value:"Telefone"})}),a.jsx(d,{id:"telefone",type:"text",placeholder:"(00) 0000-0000",onChange:s=>r("telefone",L(s.target.value)),value:o.telefone})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"telefone2",value:"Telefone 2"})}),a.jsx(d,{id:"telefone2",type:"text",placeholder:"(00) 0000-0000",onChange:s=>r("telefone2",L(s.target.value)),value:o.telefone2})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"celular",value:"Celular"})}),a.jsx(d,{id:"celular",type:"text",placeholder:"(00) 00000-0000",onChange:s=>r("celular",G(s.target.value)),value:o.celular})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"email",value:"Email"})}),a.jsx(d,{id:"email",type:"email",placeholder:"exemplo@gmail.com",onChange:s=>r("email",s.target.value),value:o.email})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"email2",value:"Email 2"})}),a.jsx(d,{id:"email2",type:"email",placeholder:"exemplo@gmail.com",onChange:s=>r("email2",s.target.value),value:o.email2})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"enviaremail",value:"Enviar Email"})}),a.jsx(m,{rawOptions:w,labelKey:"label",valueKey:"value",value:o.enviaremail,onChange:s=>r("enviaremail",s.target.value)})]})]})]}),a.jsxs(V,{children:[a.jsx("h5",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"Localização"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"col-span-1 md:col-span-3",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"idcidade",value:"Cidade"})}),a.jsx(m,{rawOptions:l.cidadesOptions,labelKey:"label",valueKey:"value",value:o.idcidade,onChange:s=>r("idcidade",s.target.value)})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"numeroloja",value:"Nº Lojas"})}),a.jsx(d,{id:"numeroloja",type:"text",placeholder:"0",onChange:s=>r("numeroloja",s.target.value),value:o.numeroloja})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"arealoja",value:"Área m²"})}),a.jsx(d,{id:"arealoja",type:"text",placeholder:"0",onChange:s=>r("arealoja",s.target.value),value:o.arealoja})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"numerovendedor",value:"Qtde Vendedores"})}),a.jsx(d,{id:"numerovendedor",type:"text",placeholder:"0",onChange:s=>r("numerovendedor",s.target.value),value:o.numerovendedor})]}),a.jsxs("div",{className:"col-span-1 md:col-span-3",children:[a.jsx("div",{className:"mb-2",children:a.jsx(i,{htmlFor:"streetview",value:"StreetView (Maps)"})}),a.jsx(I,{id:"streetview",type:"text",placeholder:"Link do StreetView",rows:6,onChange:s=>r("streetview",s.target.value),value:o.streetview})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(U,{className:"ml-auto bg-gray-600",href:route("web.cliente.index"),children:"Voltar"}),a.jsx(U,{className:"bg-gray-600",type:"submit",children:"Salvar"})]})]})}export{Ca as ClienteForm};
