import{r as c,j as e,a as u,Y as y}from"./app-DjyIttX0.js";import{A as M}from"./AuthenticatedLayout-BHXvGXIU.js";import{f as x,T as A,d as B}from"./index-D2GmhkKM.js";import{ClienteFilter as E}from"./ClienteFilter-4ixQXuB1.js";import{B as p}from"./Select-CLFfB6-q.js";import{b as R,C as i}from"./mask-DGF6KYKK.js";import{g as L,a as z,T as I}from"./TableRecados-CoA6hcYP.js";import{G as f}from"./iconBase-LT2OM_fP.js";import{a as S,M as T}from"./index-C-g7ErB0.js";import O from"./ModalRecadoForm-BFi4fOxT.js";import{routeNames as D}from"./Utils-aaFgtiZ_.js";import{B as P}from"./react-toastify.esm--b5twBu6.js";import"./transition-CPMn99QO.js";import"./index-D2mx18dn.js";import"./SecondaryButton-BoSqnFRf.js";import"./PrimaryButton-Bpcxchwb.js";const _=1,k=2,F=3,$=4,q=s=>{switch(s){case _:return"bg-green-600 text-white";case k:return"bg-yellow-500 text-white";case F:return"bg-red-600 text-white";case $:return"bg-blue-600 text-white";default:return"bg-gray-600 text-white"}},G=s=>s.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),U=G;function h(s){return f({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 10h-4v-4c0-1.104-.896-2-2-2s-2 .896-2 2l.071 4h-4.071c-1.104 0-2 .896-2 2s.896 2 2 2l4.071-.071-.071 4.071c0 1.104.896 2 2 2s2-.896 2-2v-4.071l4 .071c1.104 0 2-.896 2-2s-.896-2-2-2z"},child:[]}]})(s)}function W(s){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M260.062 32C138.605 32 40.134 129.701 40.134 250.232c0 41.23 11.532 79.79 31.559 112.687L32 480l121.764-38.682c31.508 17.285 67.745 27.146 106.298 27.146C381.535 468.464 480 370.749 480 250.232 480 129.701 381.535 32 260.062 32zm109.362 301.11c-5.174 12.827-28.574 24.533-38.899 25.072-10.314.547-10.608 7.994-66.84-16.434-56.225-24.434-90.052-83.844-92.719-87.67-2.669-3.812-21.78-31.047-20.749-58.455 1.038-27.413 16.047-40.346 21.404-45.725 5.351-5.387 11.486-6.352 15.232-6.413 4.428-.072 7.296-.132 10.573-.011 3.274.124 8.192-.685 12.45 10.639 4.256 11.323 14.443 39.153 15.746 41.989 1.302 2.839 2.108 6.126.102 9.771-2.012 3.653-3.042 5.935-5.961 9.083-2.935 3.148-6.174 7.042-8.792 9.449-2.92 2.665-5.97 5.572-2.9 11.269 3.068 5.693 13.653 24.356 29.779 39.736 20.725 19.771 38.598 26.329 44.098 29.317 5.515 3.004 8.806 2.67 12.226-.929 3.404-3.599 14.639-15.746 18.596-21.169 3.955-5.438 7.661-4.373 12.742-2.329 5.078 2.052 32.157 16.556 37.673 19.551 5.51 2.989 9.193 4.529 10.51 6.9 1.317 2.38.901 13.531-4.271 26.359z"},child:[]}]})(s)}function le({auth:s,filters:o,filtersOptions:l,flash:g,clientes:t,recados:r}){const[b,n]=c.useState(!1),j=()=>{if(t.data.length===0){P.error("Não é possível adicionar recado sem cliente cadastrado!",{position:"top-center"});return}n(!0)},v=a=>{confirm(`Deseja realmente excluir o cliente ${a.razaosocial}? isso excluirá todos os recados, ligacoes e vendas relacionadas a este cliente!`)&&B.Inertia.delete(route(D.clientedestroy,a.idcliente))},N=c.useMemo(()=>[{label:"CNPJ",accessor:"cnpj",isColored:!0},{label:"RAZAO SOCIAL",accessor:"razaosocial"},{label:"CIDADE",accessor:"cidade"},{label:"CONTATO",accessor:"contato"},{label:"CELULAR",accessor:"celular",minWidth:200},{label:"CONDIÇÃO",accessor:"condicao",minWidth:200},{label:"LIMITE",accessor:"limite",isNumeric:!0},{label:"Aproveitamento",accessor:"aproveitamento",isNumeric:!0},{label:"Ult.Venda",accessor:"venda"},{label:"Ult.Lig",accessor:"ultlig"},{label:"Situação",accessor:"situacao"},{label:"",accessor:"acao"}],[]),C=c.useMemo(()=>t.data.map(a=>{var d,m;return{...a,cnpj:a.cnpj,razaosocial:e.jsx(u,{className:"flex items-center hover:underline",href:route("web.cliente.edit",a.idcliente),children:e.jsx("span",{className:"text-gray-900 font-bold",children:a.razaosocial})}),cidade:a.cidade?a.cidade.nome+" - "+a.cidade.estado.uf:"N/A",contato:a.nome,celular:a.celular&&e.jsxs("a",{href:`https://wa.me/${a.celular}`,target:"_blank",className:"flex items-center hover:underline",children:[e.jsx(W,{className:"text-green-500 text-2xl mr-2"}),e.jsx("span",{children:R(a.celular)})]}),condicao:L(a.classificacao.idclassificacao),limite:U(a.limitecredito),aproveitamento:a.aproveitamento?a.aproveitamento.toFixed(2)+"%":"N/A",venda:x((d=a==null?void 0:a.ult_venda)==null?void 0:d.created_at),ultlig:x((m=a==null?void 0:a.ult_lig)==null?void 0:m.created_at),colorColumn:q(a.classificacao.idclassificacao),situacao:z(a.ativo),acao:e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{href:route("web.cliente.edit",a.idcliente),children:e.jsx(S,{className:"text-2xl text-blue-500 me-2"})}),e.jsx("button",{className:"text-red-500",children:e.jsx(T,{className:"text-2xl",onClick:()=>v(a)})})]})}}),[t.data]);return e.jsxs(M,{user:s.user,flashMessages:g,children:[e.jsx(y,{title:"Cliente"}),e.jsxs(i,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[e.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:e.jsx("ol",{className:"inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse",children:e.jsx("li",{className:"inline-flex items-center",children:e.jsx("span",{className:"text-4xl text-gray-600",children:"Cliente"})})})}),e.jsxs("div",{className:"flex flex-row sm:flex-row justify-end items-center space-x-2",children:[e.jsxs(p,{className:"w-full sm:w-auto bg-gray-600",href:route("web.cliente.create"),children:[e.jsx(h,{className:"me-2 h-4 w-4"}),"Novo Cliente"]}),e.jsxs(p,{className:"w-full sm:w-auto bg-blue-700",onClick:j,children:[e.jsx(h,{className:"me-2 h-4 w-4"}),"Novo Recado"]})]})]}),e.jsxs(i,{children:[e.jsxs("p",{className:"text-md mb-4 text-gray-600",children:["Bem-vindo, Vendedor"," ",e.jsx("span",{className:"font-bold",children:s.user.name}),", que ótimo ter você aqui!"]}),e.jsx("p",{className:"text-md mb-4 text-gray-600",children:"Aqui no Sistema de Gerenciamento de Clientes, você vai encontrar uma plataforma eficiente e intuitiva para a gestão de clientes, oferecendo funcionalidades robustas para controlar e monitorar suas interações e atividades comerciais. O sistema proporciona uma visão centralizada de todas as mensagens e lembretes relacionados aos clientes, permitindo o acompanhamento do status de cada recado. Além disso, controla o histórico de ligações e o acompanhamento de vendas para cada cliente, garantindo um controle eficiente e organizado das interações comerciais e das atividades de vendas."}),e.jsxs("p",{className:"text-md text-gray-600",children:["Tem uma ideia para melhorar o sistema? Entre em contato conosco! Estamos sempre em busca de novas ideias e sugestões para aprimorar a experiência do usuário. Contato:"," ",e.jsx("span",{className:"font-bold",children:"whatsapp: (44) 99900-0507 Email: romulo.vieira.dev@gmail.com"})]})]}),r.length>0&&e.jsx(i,{className:"mb-4",children:e.jsx(I,{recados:r})}),e.jsxs(i,{className:"mb-4",children:[e.jsx(E,{filtersOptions:l,filters:o}),e.jsx(A,{columns:N,pagination:t,rows:C,filters:o,title:"Clientes",subtitle:"Lista de Clientes"})]})]}),e.jsx(O,{show:b,onClose:()=>n(!1),filtersOptions:l})]})}export{le as default};
