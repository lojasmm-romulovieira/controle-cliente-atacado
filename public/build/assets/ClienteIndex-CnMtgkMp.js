import{r as o,j as e,a as N,Y as C}from"./app-CtVjqUld.js";import{A as y}from"./AuthenticatedLayout-492R6fBy.js";import{f as u,T as A,d as M}from"./index-q7jab8Kx.js";import{ClienteFilter as B}from"./ClienteFilter-BXm11YEV.js";import{B as x}from"./Select-CNqjxCqd.js";import{b as E,C as i}from"./mask-D77c_1fj.js";import{g as R,a as S,T}from"./TableRecados-B8feissX.js";import{G as I}from"./iconBase-tRLB5SKJ.js";import{a as L,M as O}from"./index-DYPOM5yZ.js";import z from"./ModalRecadoForm-BIfCN19F.js";import{routeNames as D}from"./Utils-aaFgtiZ_.js";import{B as P}from"./react-toastify.esm-B7pjqa4X.js";import"./transition-CIGtZOxb.js";import"./index-Az3Vw_3-.js";import"./SecondaryButton-CzKnylkL.js";import"./PrimaryButton-D_OUrn6L.js";const _=1,F=2,k=3,q=4,G=s=>{switch(s){case _:return"bg-green-600 text-white";case F:return"bg-yellow-500 text-white";case k:return"bg-red-600 text-white";case q:return"bg-blue-600 text-white";default:return"bg-gray-600 text-white"}},U=s=>s.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),$=U;function p(s){return I({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 10h-4v-4c0-1.104-.896-2-2-2s-2 .896-2 2l.071 4h-4.071c-1.104 0-2 .896-2 2s.896 2 2 2l4.071-.071-.071 4.071c0 1.104.896 2 2 2s2-.896 2-2v-4.071l4 .071c1.104 0 2-.896 2-2s-.896-2-2-2z"},child:[]}]})(s)}function ce({auth:s,filters:c,filtersOptions:l,flash:h,clientes:t,recados:r}){const[f,n]=o.useState(!1),b=()=>{if(t.data.length===0){P.error("Não é possível adicionar recado sem cliente cadastrado!",{position:"top-center"});return}n(!0)},g=a=>{confirm(`Deseja realmente excluir o cliente ${a.razaosocial}? isso excluirá todos os recados, ligacoes e vendas relacionadas a este cliente!`)&&M.Inertia.delete(route(D.clientedestroy,a.idcliente))},j=o.useMemo(()=>[{label:"CNPJ",accessor:"cnpj",isColored:!0},{label:"RAZAO SOCIAL",accessor:"razaosocial"},{label:"CIDADE",accessor:"cidade"},{label:"CONTATO",accessor:"contato"},{label:"CELULAR",accessor:"celular",minWidth:200},{label:"CONDIÇÃO",accessor:"condicao",minWidth:200},{label:"LIMITE",accessor:"limite",isNumeric:!0},{label:"Aproveitamento",accessor:"aproveitamento",isNumeric:!0},{label:"Ult.Venda",accessor:"venda"},{label:"Ult.Lig",accessor:"ultlig"},{label:"Situação",accessor:"situacao"},{label:"",accessor:"acao"}],[]),v=o.useMemo(()=>t.data.map(a=>{var d,m;return{...a,cnpj:a.cnpj,razaosocial:e.jsxs(N,{className:"flex items-center hover:underline",href:route("web.cliente.edit",a.idcliente),children:[e.jsx("span",{className:"font-bold text-gray-900",children:a.razaosocial}),e.jsx(L,{className:"ms-2 h-4 w-4"})]}),cidade:a.cidade?a.cidade.nome+" - "+a.cidade.estado.uf:"N/A",contato:a.nome,celular:E(a.celular),condicao:R(a.classificacao.idclassificacao),limite:$(a.limitecredito),aproveitamento:a.aproveitamento?a.aproveitamento.toFixed(2)+"%":"N/A",venda:u((d=a==null?void 0:a.ult_venda)==null?void 0:d.created_at),ultlig:u((m=a==null?void 0:a.ult_lig)==null?void 0:m.created_at),colorColumn:G(a.classificacao.idclassificacao),situacao:S(a.ativo),acao:e.jsx("div",{className:"flex items-center",children:e.jsx("button",{className:"text-red-500",children:e.jsx(O,{className:"text-2xl",onClick:()=>g(a)})})})}}),[t.data]);return e.jsxs(y,{user:s.user,flashMessages:h,children:[e.jsx(C,{title:"Cliente"}),e.jsxs(i,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:e.jsx("ol",{className:"inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse",children:e.jsx("li",{className:"inline-flex items-center",children:e.jsx("span",{className:"text-4xl text-gray-600",children:"Cliente"})})})}),e.jsxs(x,{className:"ml-auto bg-gray-600",href:route("web.cliente.create"),children:[e.jsx(p,{className:"me-2 h-4 w-4"}),"Novo Cliente"]}),e.jsxs(x,{className:"ml-2 bg-gray-600",onClick:b,children:[e.jsx(p,{className:"me-2 h-4 w-4"}),"Novo Recado"]})]}),e.jsxs(i,{children:[e.jsxs("p",{className:"text-md mb-4 text-gray-600",children:["Bem-vindo, Vendedor"," ",e.jsx("span",{className:"font-bold",children:s.user.name}),", que ótimo ter você aqui!"]}),e.jsx("p",{className:"text-md mb-4 text-gray-600",children:"Aqui no Sistema de Gerenciamento de Clientes, você vai encontrar uma plataforma eficiente e intuitiva para a gestão de clientes, oferecendo funcionalidades robustas para controlar e monitorar suas interações e atividades comerciais. O sistema proporciona uma visão centralizada de todas as mensagens e lembretes relacionados aos clientes, permitindo o acompanhamento do status de cada recado. Além disso, controla o histórico de ligações e o acompanhamento de vendas para cada cliente, garantindo um controle eficiente e organizado das interações comerciais e das atividades de vendas."}),e.jsxs("p",{className:"text-md text-gray-600",children:["Tem uma ideia para melhorar o sistema? Entre em contato conosco! Estamos sempre em busca de novas ideias e sugestões para aprimorar a experiência do usuário. Contato:"," ",e.jsx("span",{className:"font-bold",children:"whatsapp: (44) 99900-0507 Email: romulo.vieira.dev@gmail.com"})]})]}),r.length>0&&e.jsx(i,{className:"mb-4",children:e.jsx(T,{recados:r})}),e.jsxs(i,{className:"mb-4",children:[e.jsx(B,{filtersOptions:l,filters:c}),e.jsx(A,{columns:j,pagination:t,rows:v,filters:c,title:"Clientes",subtitle:"Lista de Clientes"})]})]}),e.jsx(z,{show:f,onClose:()=>n(!1),filtersOptions:l})]})}export{ce as default};
