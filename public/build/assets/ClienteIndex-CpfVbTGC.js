import{r as o,j as e,a as C,Y as y}from"./app-CGBiHGke.js";import{A}from"./AuthenticatedLayout-DRvC9RP3.js";import{f as x,T as M,d as B}from"./index-TiUMgmIM.js";import{ClienteFilter as E}from"./ClienteFilter-Ce5Zvg7h.js";import{B as p}from"./Select-9p_WpNOZ.js";import{b as R,C as i}from"./Format-NB_M4rIb.js";import{g as O,a as S,T}from"./TableRecados-n7EX1h3h.js";import{G as I}from"./iconBase-BXCRjBs9.js";import{a as L,M as z}from"./index-CQpJ9BQJ.js";import D from"./ModalRecadoForm-C2wyzDSe.js";import{routeNames as P}from"./Utils-aaFgtiZ_.js";import{B as _}from"./react-toastify.esm-DITYaGG7.js";import"./transition-Cmse3jpF.js";import"./index-DHp4vgic.js";import"./SecondaryButton-DxMWq0r_.js";import"./PrimaryButton-BZhz6yEz.js";const F=1,q=2,G=3,U=4,$=s=>{switch(s){case F:return"bg-green-600 text-white";case q:return"bg-yellow-500 text-white";case G:return"bg-red-600 text-white";case U:return"bg-blue-600 text-white";default:return"bg-gray-600 text-white"}},k=s=>s.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),V=k;function h(s){return I({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 10h-4v-4c0-1.104-.896-2-2-2s-2 .896-2 2l.071 4h-4.071c-1.104 0-2 .896-2 2s.896 2 2 2l4.071-.071-.071 4.071c0 1.104.896 2 2 2s2-.896 2-2v-4.071l4 .071c1.104 0 2-.896 2-2s-.896-2-2-2z"},child:[]}]})(s)}function le(s){const{auth:c,filters:l,filtersOptions:r,flash:f}=s,{clientes:t,recados:n}=s,[b,d]=o.useState(!1),g=()=>{if(t.data.length===0){_.error("Não é possível adicionar recado sem cliente cadastrado!",{position:"top-center"});return}d(!0)},j=a=>{confirm(`Deseja realmente excluir o cliente ${a.razaosocial}? isso excluirá todos os recados, ligacoes e vendas relacionadas a este cliente!`)&&B.Inertia.delete(route(P.clientedestroy,a.idcliente))},v=o.useMemo(()=>[{label:"CNPJ",accessor:"cnpj",isColored:!0},{label:"RAZAO SOCIAL",accessor:"razaosocial"},{label:"CIDADE",accessor:"cidade"},{label:"CONTATO",accessor:"contato"},{label:"CELULAR",accessor:"celular",minWidth:200},{label:"CONDIÇÃO",accessor:"condicao",minWidth:200},{label:"LIMITE",accessor:"limite",isNumeric:!0},{label:"Aproveitamento",accessor:"aproveitamento",isNumeric:!0},{label:"Ult.Venda",accessor:"venda"},{label:"Ult.Lig",accessor:"ultlig"},{label:"Situação",accessor:"situacao"},{label:"",accessor:"acao"}],[]),N=o.useMemo(()=>t.data.map(a=>{var m,u;return{...a,cnpj:a.cnpj,razaosocial:e.jsxs(C,{className:"flex items-center hover:underline",href:route("web.cliente.edit",a.idcliente),children:[e.jsx("span",{className:"text-gray-900 font-bold",children:a.razaosocial}),e.jsx(L,{className:"w-4 h-4 ms-2"})]}),cidade:a.cidade?a.cidade.nome+" - "+a.cidade.estado.uf:"N/A",contato:a.nome,celular:R(a.celular),condicao:O(a.classificacao.idclassificacao),limite:V(a.limitecredito),aproveitamento:a.aproveitamento?a.aproveitamento.toFixed(2)+"%":"N/A",venda:x((m=a==null?void 0:a.ult_venda)==null?void 0:m.created_at),ultlig:x((u=a==null?void 0:a.ult_lig)==null?void 0:u.created_at),colorColumn:$(a.classificacao.idclassificacao),situacao:S(a.ativo),acao:e.jsx("div",{className:"flex items-center",children:e.jsx("button",{className:"text-red-500",children:e.jsx(z,{className:"text-2xl",onClick:()=>j(a)})})})}}),[t.data]);return e.jsxs(A,{user:c.user,flashMessages:f,children:[e.jsx(y,{title:"Cliente"}),e.jsxs(i,{children:[e.jsxs("div",{className:"flex justify-between items-center ",children:[e.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:e.jsx("ol",{className:"inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse",children:e.jsx("li",{className:"inline-flex items-center",children:e.jsx("span",{className:"text-4xl text-gray-600",children:"Cliente"})})})}),e.jsxs(p,{className:"bg-gray-600 ml-auto",href:route("web.cliente.create"),children:[e.jsx(h,{className:"w-4 h-4 me-2"}),"Novo Cliente"]}),e.jsxs(p,{className:"bg-gray-600 ml-2",onClick:g,children:[e.jsx(h,{className:"w-4 h-4 me-2"}),"Novo Recado"]})]}),e.jsxs(i,{children:[e.jsxs("p",{className:"text-md text-gray-600 mb-4",children:["Bem-vindo, Vendedor ",e.jsx("span",{className:"font-bold",children:c.user.name}),", que ótimo ter você aqui!"]}),e.jsx("p",{className:"text-md text-gray-600 mb-4",children:"Aqui no Sistema de Gerenciamento de Clientes, você vai encontrar uma plataforma eficiente e intuitiva para a gestão de clientes, oferecendo funcionalidades robustas para controlar e monitorar suas interações e atividades comerciais. O sistema proporciona uma visão centralizada de todas as mensagens e lembretes relacionados aos clientes, permitindo o acompanhamento do status de cada recado. Além disso, controla o histórico de ligações e o acompanhamento de vendas para cada cliente, garantindo um controle eficiente e organizado das interações comerciais e das atividades de vendas."}),e.jsxs("p",{className:"text-md text-gray-600",children:["Tem uma ideia para melhorar o sistema? Entre em contato conosco! Estamos sempre em busca de novas ideias e sugestões para aprimorar a experiência do usuário. Contato: ",e.jsx("span",{className:"font-bold",children:"whatsapp: (44) 99900-0507 Email: romulo.vieira.dev@gmail.com"})]})]}),n.length>0&&e.jsx(i,{className:"mb-4",children:e.jsx(T,{recados:n})}),e.jsxs(i,{className:"mb-4",children:[e.jsx(E,{filtersOptions:r,filters:l}),e.jsx(M,{columns:v,pagination:t,rows:N,filters:l,title:"Clientes",subtitle:"Lista de Clientes"})]})]}),e.jsx(D,{show:b,onClose:()=>d(!1),filtersOptions:r})]})}export{le as default};
