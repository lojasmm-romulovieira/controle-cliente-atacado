import{r as O,W as Y,j as e}from"./app-CGBiHGke.js";import{_ as Z,c as B,b as D,v as ee,d as R,g as ae,e as se,u as le,S as re,f as oe,L as o,T as c,h,i as W,B as J}from"./Select-9p_WpNOZ.js";import{f as T,a as I,b as te,c as ie,C as V}from"./Format-NB_M4rIb.js";import{EM_PROSPECCAO as ne,SIM as k,NAO as U,SIM_NAO as F,routeNames as q}from"./Utils-aaFgtiZ_.js";import"./index-CQpJ9BQJ.js";import"./iconBase-BXCRjBs9.js";var de=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],Q=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0,p=String(t).toLowerCase(),n=String(u.getOptionValue(a)).toLowerCase(),l=String(u.getOptionLabel(a)).toLowerCase();return n===p||l===p},_={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,a,u,p){return!(!t||a.some(function(n){return Q(t,n,p)})||u.some(function(n){return Q(t,n,p)}))},getNewOptionData:function(t,a){return{label:a,value:t,__isNew__:!0}}};function ce(i){var t=i.allowCreateWhileLoading,a=t===void 0?!1:t,u=i.createOptionPosition,p=u===void 0?"last":u,n=i.formatCreateLabel,l=n===void 0?_.formatCreateLabel:n,r=i.isValidNewOption,y=r===void 0?_.isValidNewOption:r,$=i.getNewOptionData,j=$===void 0?_.getNewOptionData:$,C=i.onCreateOption,w=i.options,g=w===void 0?[]:w,b=i.onChange,v=Z(i,de),L=v.getOptionValue,s=L===void 0?ae:L,d=v.getOptionLabel,m=d===void 0?se:d,x=v.inputValue,E=v.isLoading,M=v.isMulti,S=v.value,A=v.name,f=O.useMemo(function(){return y(x,B(S),g,{getOptionValue:s,getOptionLabel:m})?j(x,l(x)):void 0},[l,j,m,s,x,y,g,S]),G=O.useMemo(function(){return(a||!E)&&f?p==="first"?[f].concat(D(g)):[].concat(D(g),[f]):g},[a,p,E,f,g]),H=O.useCallback(function(N,P){if(P.action!=="select-option")return b(N,P);var z=Array.isArray(N)?N:[N];if(z[z.length-1]===f){if(C)C(x);else{var K=j(x,x),X={action:"create-option",name:A,option:K};b(ee(M,[].concat(D(B(S)),[K]),K),X)}return}b(N,P)},[j,x,M,A,f,C,b,S]);return R(R({},v),{},{options:G,onChange:H})}var me=O.forwardRef(function(i,t){var a=le(i),u=ce(a);return O.createElement(re,oe({ref:t},u))}),ue=me;function be(i){const{filtersOptions:t,cliente:a}=i,u=t.perfisOptions.map(s=>s.value.toString()),p=t.ramosOptions.map(s=>s.value.toString()),n=s=>s!=null,{data:l,setData:r,post:y,put:$,errors:j}=Y({cnpj:a!=null&&a.cnpj?T(a.cnpj):"",razaosocial:(a==null?void 0:a.razaosocial)??"",ramos:a!=null&&a.ramos?a==null?void 0:a.ramos.map(s=>s.idramo.toString()):p,idclassificacao:(a==null?void 0:a.idclassificacao)??[ne],nome:(a==null?void 0:a.nome)??"",datanascimento:(a==null?void 0:a.datanascimento)??"",idcidade:(a==null?void 0:a.idcidade)??"",telefone:a!=null&&a.telefone?I(a.telefone):"",telefone2:a!=null&&a.telefone2?I(a.telefone2):"",celular:a!=null&&a.celular?te(a.celular):"",email:(a==null?void 0:a.email)??"",email2:(a==null?void 0:a.email2)??"",observacoes:(a==null?void 0:a.observacoes)??"",cnpjagrupador:a!=null&&a.cnpjagrupador?a.cnpjagrupador.map(s=>T(s.cnpjagrupador)):[],numeroloja:(a==null?void 0:a.numeroloja)??"",numerovendedor:(a==null?void 0:a.numerovendedor)??"",arealoja:(a==null?void 0:a.arealoja)??"",streetview:(a==null?void 0:a.streetview)??"",limitecredito:a!=null&&a.limitecredito?ie(a.limitecredito):"",enviaremail:n(a==null?void 0:a.enviaremail)?[!!a.enviaremail]:k,possuidividapendente:n(a==null?void 0:a.possuidividapendente)?[!!a.possuidividapendente]:U,possuicompra:n(a==null?void 0:a.possuicompra)?[!!a.possuicompra]:k,ativo:n(a==null?void 0:a.ativo)?[!!a.ativo]:k,perfis:a!=null&&a.perfis?a==null?void 0:a.perfis.map(s=>s.idperfil.toString()):u,possuiblu:n(a==null?void 0:a.possuiblu)?[!!a.possuiblu]:U}),C=s=>{const{value:d}=s.target,m=d.replace(/\D/g,"").replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2})\.(\d{3})(\d)/,"$1.$2.$3").replace(/\.(\d{3})(\d)/,".$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1");r("cnpj",m)},w=s=>{const{value:d}=s.target,m=d.replace(/\D/g,"").replace(/(\d{2})$/,",$1").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.");r("limitecredito",m)},g=s=>{const{value:d}=s.target,m=d.replace(/\D/g,"").replace(/^(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{4})(\d)/,"$1");r("telefone",m)},b=s=>{const{value:d}=s.target,m=d.replace(/\D/g,"").replace(/^(\d{2})(\d)/,"($1) $2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{4})(\d)/,"$1");r("telefone2",m)},v=s=>{const{value:d}=s.target,m=d.replace(/\D/g,"").replace(/^(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})(\d)/,"$1");r("celular",m)},L=s=>{s.preventDefault(),a?$(route(q.clienteupdate,a.idcliente)):y(route(q.clientestore))};return e.jsxs("form",{className:"",onSubmit:L,children:[e.jsxs(V,{className:"mb-11",children:[e.jsx("h5",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Dados Pessoais"}),e.jsxs("div",{className:"flex gap-10",children:[e.jsxs("div",{className:"w-1/4",children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"cnpj",value:"CNPJ"})}),e.jsx(c,{id:"cnpj",type:"text",placeholder:"00.000.000/0000-00",required:!0,onChange:s=>C(s),value:l.cnpj,color:"failure",helperText:j.cnpj??e.jsx("span",{className:"font-medium",children:j.cnpj})})]}),e.jsxs("div",{className:"w-3/4",children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"razaosocial",value:"Razão Social"})}),e.jsx(c,{id:"razaosocial",type:"text",placeholder:"Nome da Empresa",onChange:s=>r("razaosocial",s.target.value),value:l.razaosocial,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"cnpjagrupador",value:"CNPJ Agrupador"})}),e.jsx(ue,{id:"cnpjagrupador",placeholder:"Digite o CNPJ",isClearable:!0,onInputChange:s=>T(s),onChange:s=>{r("cnpjagrupador",s.map(d=>d.value))},value:l.cnpjagrupador.map(s=>({value:s,label:s})),isMulti:!0,formatCreateLabel:s=>`Adicionar CNPJ: ${s}`})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-10",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"nome",value:"Comprador"})}),e.jsx(c,{id:"nome",type:"text",placeholder:"Nome do Comprador",onChange:s=>r("nome",s.target.value),value:l.nome})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"datanascimento",value:"Data Nascimento"})}),e.jsx(c,{id:"datanascimento",type:"date",onChange:s=>r("datanascimento",s.target.value),value:l.datanascimento})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"limitecredito",value:"Limite Crédito"})}),e.jsx(c,{id:"limitecredito",type:"text",placeholder:"R$ 0,00",onChange:s=>w(s),value:l.limitecredito})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"idclassificacao",value:"Nota"})}),e.jsx(h,{rawOptions:t.classificacoesOptions,labelKey:"label",valueKey:"value",value:l.idclassificacao,onChange:s=>r("idclassificacao",s.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-10",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"perfis",value:"Perfil de Compra"})}),e.jsx(h,{rawOptions:t.perfisOptions,labelKey:"label",valueKey:"value",value:l.perfis,onChange:s=>r("perfis",s.target.value),isMulti:!0,hideSelecionarTodos:!1})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"ramos",value:"Ramos"})}),e.jsx(h,{rawOptions:t.ramosOptions,labelKey:"label",valueKey:"value",value:l.ramos,onChange:s=>r("ramos",s.target.value),isMulti:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-10",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"possuiblu",value:"Tem BLU?"})}),e.jsx(h,{rawOptions:F,labelKey:"label",valueKey:"value",value:l.possuiblu,onChange:s=>r("possuiblu",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"possuidividapendente",value:"Tem Dívida?"})}),e.jsx(h,{rawOptions:F,labelKey:"label",valueKey:"value",value:l.possuidividapendente,onChange:s=>r("possuidividapendente",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"possuicompra",value:"Já Comprou?"})}),e.jsx(h,{rawOptions:F,labelKey:"label",valueKey:"value",value:l.possuicompra,onChange:s=>r("possuicompra",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"ativo",value:"Situação Usuário"})}),e.jsx(h,{rawOptions:t.situacoesUsuariosOptions,labelKey:"label",valueKey:"value",value:l.ativo,onChange:s=>r("ativo",s.target.value)})]})]}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"observacoes",value:"Observações"})}),e.jsx(W,{id:"observacoes",type:"text",placeholder:"Observações",rows:6,onChange:s=>r("observacoes",s.target.value),value:l.observacoes})]})]}),e.jsxs(V,{className:"mb-11",children:[e.jsx("h5",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Contato"}),e.jsxs("div",{className:"grid grid-cols-3 gap-10",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"telefone",value:"Telefone"})}),e.jsx(c,{id:"telefone",type:"text",placeholder:"(00) 0000-0000",onChange:s=>g(s),value:l.telefone})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"telefone2",value:"Telefone 2"})}),e.jsx(c,{id:"telefone2",type:"text",placeholder:"(00) 0000-0000",onChange:s=>b(s),value:l.telefone2})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"celular",value:"Celular"})}),e.jsx(c,{id:"celular",type:"text",placeholder:"(00) 00000-0000",onChange:s=>v(s),value:l.celular})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-10",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"email",value:"Email"})}),e.jsx(c,{id:"email",type:"email",placeholder:"exemplo@gmail.com",onChange:s=>r("email",s.target.value),value:l.email})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"email2",value:"Email 2"})}),e.jsx(c,{id:"email2",type:"email",placeholder:"exemplo@gmail.com",onChange:s=>r("email2",s.target.value),value:l.email2})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"enviaremail",value:"Enviar Email"})}),e.jsx(h,{rawOptions:F,labelKey:"label",valueKey:"value",value:l.enviaremail,onChange:s=>r("enviaremail",s.target.value)})]})]})]}),e.jsxs(V,{className:"mb-11",children:[e.jsx("h5",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Localização"}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"idcidade",value:"Cidade"})}),e.jsx(h,{rawOptions:t.cidadesOptions,labelKey:"label",valueKey:"value",value:l.idcidade,onChange:s=>r("idcidade",s.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-10",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"numeroloja",value:"Nº Lojas"})}),e.jsx(c,{id:"numeroloja",type:"text",placeholder:"0",onChange:s=>r("numeroloja",s.target.value),value:l.numeroloja})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"arealoja",value:"Área m²"})}),e.jsx(c,{id:"arealoja",type:"text",placeholder:"0",onChange:s=>r("arealoja",s.target.value),value:l.arealoja})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"numerovendedor",value:"Qtde Vendedores"})}),e.jsx(c,{id:"numerovendedor",type:"text",placeholder:"0",onChange:s=>r("numerovendedor",s.target.value),value:l.numerovendedor})]})]}),e.jsx("div",{className:"grid gap-10",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsx(o,{htmlFor:"streetview",value:"StreetView (Maps)"})}),e.jsx(W,{id:"streetview",type:"text",placeholder:"Link do StreetView",rows:6,onChange:s=>r("streetview",s.target.value),value:l.streetview})]})})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(J,{className:"bg-gray-600 ml-auto",href:route("web.cliente.index"),children:"Voltar"}),e.jsx(J,{className:"bg-gray-600",type:"submit",children:"Salvar"})]})]})}export{be as ClienteForm};
